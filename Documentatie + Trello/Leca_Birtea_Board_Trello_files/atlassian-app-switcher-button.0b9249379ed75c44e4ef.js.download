(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"./app/gamma/src/components/header/atlassian-app-switcher-button.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"AtlassianAppSwitcherButton",(function(){return jt}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./packages/nachos/icons/application-switcher.tsx"),s=n("./packages/test-ids/index.ts"),i=n("./app/gamma/src/components/header/button.tsx"),c=n("./node_modules/classnames/index.js"),u=n.n(c),l=n("./packages/atlassian-analytics/index.ts"),d=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/default-available-products-provider.js"),p=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/cross-join/providers/default-joinable-sites-provider.js"),f=n("./node_modules/@babel/runtime/regenerator/index.js"),m=n.n(f),b=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),h=n.n(b),v=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),j=n.n(v),O=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/types.js"),y=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/fetch.js");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=function(e){return e+"/v1/product-recommendations?capability=DIRECT_ACCESS&product=jira-software&product=jira-servicedesk&product=jira-core&product=confluence"},E={confluence:O.g.CONFLUENCE,"jira-core":O.g.JIRA_CORE,"jira-servicedesk":O.g.JIRA_SERVICE_DESK,"jira-software":O.g.JIRA_SOFTWARE,opsgenie:O.g.OPSGENIE,statuspage:O.g.STATUSPAGE},S=function(e){var t={};e.capability.DIRECT_ACCESS.forEach((function(e,n){var r=_(e.resourceId);if(E[r.resourceOwner]&&"site"===r.resourceType)if(r.resourceId in t)t[r.resourceId].products[E[r.resourceOwner]]={collaborators:[],productUrl:e.url};else{var o=new URL(e.url),a={};a[E[r.resourceOwner]]={collaborators:[],productUrl:e.url},t[r.resourceId]={cloudId:r.resourceId,url:o.origin,displayName:e.displayName,products:a,relevance:Math.max(1e3-n,0)}}}));var n=[];for(var r in t)n.push(t[r]);return{sites:n}},_=function(e){var t=e.split(":");if(5!==t.length||"ari"!==t[0]||"cloud"!==t[1])throw new Error("Invalid ARI");var n=t[4].split("/");if(2!==n.length)throw new Error("Invalid ARI");return{uriScheme:t[0],cloud:t[1],resourceOwner:t[2],cloudId:t[3],resourceType:n[0],resourceId:n[1]}},k={capability:{DIRECT_ACCESS:[],REQUEST_ACCESS:[]}},C=function(e,t){return fetch(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({credentials:"include"},t)).then(function(){var t=h()(m.a.mark((function t(n){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.json(),!n.ok){t.next=3;break}return t.abrupt("return",r);case 3:if(400!==n.status){t.next=9;break}return t.next=6,r;case 6:if(o=t.sent,!(null==(a=o)?void 0:a.code)||"email-public-domain"!==a.code){t.next=9;break}return t.abrupt("return",k);case 9:throw Object(y.b)(new Error("Unable to fetch ".concat(e," ").concat(n.status," ").concat(n.statusText)),n.status);case 10:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}())},P=[O.g.JIRA_SOFTWARE,O.g.JIRA_SERVICE_DESK,O.g.JIRA_CORE,O.g.CONFLUENCE],I=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),R=n.n(I),T=n("./node_modules/@babel/runtime/helpers/createClass.js"),A=n.n(T),x=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),N=n.n(x),D=n("./node_modules/@babel/runtime/helpers/inherits.js"),F=n.n(D),M=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),L=n.n(M),U=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),B=n.n(U),J=n("./node_modules/lodash/throttle.js"),V=n.n(J),G=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/instance-data-providers.js"),W=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/products-data-provider.js"),H=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/cross-join/providers/joinable-sites-data-provider.js"),K=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/loaders.js"),q=function(e){var t=e.cloudId;!function(e){Object(K.f)(),e===O.f.JIRA?Object(K.i)():e===O.f.CONFLUENCE?Object(K.g)():Object(K.h)()}(e.product),Object(W.b)(e.availableProductsDataProvider),Object(H.b)(e.joinableSitesDataProvider),t&&Object(G.e)({cloudId:t})},z=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/performance-now.js"),X=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/analytics/index.js"),$=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),Q=n("./node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),Y=n("./node_modules/@atlaskit/analytics-namespaced-context/dist/esm/index.js"),Z=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/package-context.js");function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L()(this,n)}}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re={leading:!0,trailing:!1},oe=ne({componentName:X.m},Z.a),ae=function(e){F()(n,e);var t=ee(n);function n(){var e;R()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),j()(N()(e),"fireOperationalEvent",(function(t){e.props.createAnalyticsEvent&&e.props.createAnalyticsEvent(ne({eventType:$.b,actionSubject:X.n},t)).fire(X.a)})),j()(N()(e),"triggerPrefetch",V()((function(){q(e.props),e.fireOperationalEvent({action:"triggered"})}),6e4,re)),j()(N()(e),"handleMouseEnter",(function(){e.triggerPrefetch(),e.lastEnteredAt=Object(z.a)()})),j()(N()(e),"handleMouseClick",(function(){if(e.lastEnteredAt){var t=Math.round(Object(z.a)()-e.lastEnteredAt);e.fireOperationalEvent({action:"clicked",attributes:{hoverToClick:t}})}})),e}return A()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.Container,r=void 0===n?"div":n;return o.a.createElement(r,{onFocus:this.handleMouseEnter,onMouseEnter:this.handleMouseEnter,onClick:this.handleMouseClick},t)}}]),n}(o.a.Component),se=Object(Q.a)()(ae),ie=function(e){return o.a.createElement(Y.a,{data:oe},o.a.createElement(se,e))},ce=n("./packages/config/index.ts"),ue=n("./app/gamma/src/util/cross-flow-essentials.ts"),le=n("./packages/nachos/popover.ts"),de=n("./node_modules/react-intl/lib/index.es.js"),pe=n("./node_modules/@atlaskit/analytics-listeners/dist/esm/index.js"),fe=n("./packages/colors/index.ts"),me=n("./node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/index.js");function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let he;!function(e){e.CONTROL="control",e.NOT_ENROLLED="not-enrolled",e.EXPERIMENT="experiment"}(he||(he={}));const ve={primaryTextColor:fe.N800,secondaryTextColor:fe.N300,primaryHoverBackgroundColor:"#E0E2E5",secondaryHoverBackgroundColor:"#F5F6F7"},je=({aaId:e,triggerXFlow:t,onDiscoverMoreClicked:n,joinableSitesDataProvider:r,highlightedJoinableItemHref:a,onJoinableSiteClicked:s,availableProductsDataProvider:i,nonAaMastered:c,defaultSignupEmail:u,locale:d="en",onClose:p})=>{const f={triggerXFlow:t,onDiscoverMoreClicked:n,recommendationsFeatureFlags:{isProductStoreInTrelloEnabled:!0},highlightedJoinableItemHref:a,onJoinableSiteClicked:s,joinableSitesDataProvider:r,availableProductsDataProvider:i},m={navigationCtx:{attributes:{aaId:e,isAaMastered:!c}}};return o.a.createElement(de.c,{locale:d},o.a.createElement(pe.b,{client:l.Analytics.dangerouslyGetAnalyticsWebClient(),excludedChannels:[pe.a.atlaskit,pe.a.elements,pe.a.editor,pe.a.media]},o.a.createElement(me.a,{data:m},o.a.createElement(K.a,be({product:"trello",appearance:"standalone",theme:ve},f,{nonAaMastered:c,defaultSignupEmail:null===u?void 0:u,onClose:p})))))};var Oe=n("./packages/i18n/index.ts"),ye=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ge=n.n(ye),we=n("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAppSwitcher/AtlassianAppSwitcherEmptyState.less"),Ee={insert:"head",singleton:!1},Se=(ge()(we.a,Ee),we.a.locals||{});const _e=Object(Oe.forNamespace)(["atlassian app switcher"],{shouldEscapeStrings:!1}),ke=n("./resources/images/empty-states/app-switcher.svg"),Ce=()=>o.a.createElement("div",{className:Se.appSwitcherEmptyState},o.a.createElement("img",{src:ke,alt:_e("illustration alt text")}),o.a.createElement("h3",null,_e("your account is unverified")),o.a.createElement("p",null,_e("please confirm your email address")));var Pe=n("./node_modules/@atlassiansox/cross-flow-support/dist/esm/trello.js"),Ie=n("./packages/use-lazy-component/index.ts"),Re=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/create-data-provider.js"),Te=n("./app/src/components/SwitcherSpotlight/types.ts"),Ae=n("./app/src/components/SwitcherSpotlight/useCurrentBoardId.ts"),xe=n("./node_modules/@apollo/client/index.js");function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Me={context:{operationName:"GetBoardMemberIds"}},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBoardMemberIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ve={context:{operationName:"GetMemberInfo"}},Ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMemberInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idMembers"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"idMembers"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"aaId"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}}]}}]}}]};var We=n("./app/src/components/SwitcherSpotlight/caching/index.ts"),He=n("./app/scripts/debug/constants.ts"),Ke=n("./packages/error-reporting/index.ts");const qe={tags:{ownershipArea:"trello-workflowers",feature:He.Feature.PushTouchpointsSwitcherSpotlight},extraData:{subjectMethod:"useBoardMemberInfo"}},ze=(e,t,n)=>{var o,a;const s=e!==Ae.a,i=n||!s,{data:c,loading:u,error:l}=function(e){const t=De(De({},Me),e);return xe.useQuery(Le,t)}({variables:{boardId:e},skip:i}),d=null==c||null===(o=c.board)||void 0===o?void 0:o.members,p=Object(r.useMemo)((()=>{try{if(s&&!u&&!l&&null!=d&&d.length)return d.filter((({id:e})=>e!==t)).map((({id:e})=>e))}catch(e){Object(Ke.sendErrorEvent)(e,qe)}}),[s,d,u,l,t]),f=null!==(a=null==p?void 0:p.length)&&void 0!==a?a:0,m=n||f<2||f>19,{data:b,error:h,loading:v}=function(e){const t=Be(Be({},Ve),e);return xe.useQuery(Ge,t)}({variables:{idMembers:p||[]},skip:m}),j=Object(r.useMemo)((()=>{try{if(s&&!v&&!h&&b&&Array.isArray(null==b?void 0:b.members))return b.members.filter((({aaId:e})=>e)).map((({avatarUrl:e,fullName:t,id:n,aaId:r})=>({avatarUrl:"".concat(e,"/original.png"),displayName:null!=t?t:"",accountId:null!=r?r:"",id:n}))).sort(((e,t)=>e.displayName<=t.displayName?-1:1))}catch(e){Object(Ke.sendErrorEvent)(e,qe)}}),[s,b,v,h]),O=v||u,y=h||l;return Object(r.useEffect)((()=>{O||y||e===Ae.a||Object(We.b)(j,e,t)}),[j,e,t,O,y]),{data:j,loading:O,error:y}},Xe=["Failed to fetch","NetworkError when attempting to fetch resource.","The operation was aborted. ","The request timed out.","Se agotó el tiempo de espera.","The network connection was lost.","cancelled","La requête a expiré.","TypeMismatchError","An SSL error has occurred and a secure connection to the server cannot be made.","Zeitüberschreitung bei der Anforderung.","A server with the specified hostname could not be found.","The Internet connection appears to be offline."];var $e=n("./packages/browser/index.ts"),Qe=n("./packages/feature-flag-client/index.ts");const Ye=["products"];function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const rt="".concat(ce.atlassianApiGateway,"gateway/api/growth/trello-switcher-nudge/recommended-products"),ot="".concat(ce.atlassianApiGateway,"gateway/api/xflow/cloud/joinable-products?model=collaborators"),at=[Te.a.JIRA_SOFTWARE,Te.a.CONFLUENCE],st=async(e,t,n,r=[])=>{try{const o=Object(We.g)(e,t);if(o)return o;if(!Object(We.e)())return{sites:[]};const{resolvedBoardId:a,resolvedCollaborators:s}=Object(We.f)(e,t,r),i=s.map((({accountId:e})=>e)),c=Qe.featureFlagClient.get("new-cross-flow-joinable-sites-endpoint",!1),[u,d]=c?[ot,Object(We.j)(n,i)]:[rt,{products:n,collaborators:i}],p=await fetch(u,{method:"post",body:JSON.stringify(d),credentials:"include",headers:{"Content-Type":"application/json","X-Trello-Client-Version":ce.clientVersion}});if(!p.ok)return l.Analytics.sendOperationalEvent({action:"errored",actionSubject:"fetchRecommendedProducts",source:"boardScreen",containers:Object(l.formatContainers)({idBoard:a}),attributes:{message:p.statusText,status:p.status,collaborators:JSON.stringify(i),isBrowserSupported:Object($e.isBrowserSupported)(),browser:$e.asString}}),Object(We.h)(),{sites:[]};l.Analytics.sendOperationalEvent({action:"succeeded",actionSubject:"fetchRecommendedProducts",source:"boardScreen",containers:Object(l.formatContainers)({idBoard:a}),attributes:{collaborators:JSON.stringify(i),isBrowserSupported:Object($e.isBrowserSupported)(),browser:$e.asString}});const f=await p.json(),m=c&&(null==f?void 0:f.joinableProducts)?Object(We.k)(f):f,b=Object(We.i)(m);b.sites=b.sites.map((e=>{let{products:t}=e,n=nt(e,Ye);const[[r,o]]=Object.entries(t);return et(et({},n),{},{products:{[r]:et(et({},o),{},{collaborators:s.filter((e=>o.collaborators.find((({accountId:t})=>e.accountId===t))))})}})})),Object(We.c)(a,t,s,b);const h=Object(We.g)(a,t);return null!=h?h:b}catch(t){o=null==t?void 0:t.message,Xe.some((e=>e===o))||Object(Ke.sendErrorEvent)(t,{tags:{ownershipArea:"trello-workflowers",feature:He.Feature.PushTouchpointsSwitcherSpotlight},extraData:{subjectMethod:"fetchJoinableProducts",boardId:e}}),Object(We.h)()}var o;return{sites:[]}};var it=n("./packages/storage/index.ts"),ct=n("./app/src/components/SwitcherSpotlight/caching/retrieveCachedResponse.ts");var ut=n("./app/src/components/SwitcherSpotlight/targeting/index.ts"),lt=n("./app/gamma/src/components/header/header.less");function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const pt=Object(Oe.forTemplate)("cross_flow"),ft=Object(d.a)(ue.b),mt=Object(d.a)(ue.a),bt=Object(p.a)((ht="".concat(ce.atlassianApiGateway,"gateway/api/invitations"),function(){return function(){return C(w(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""),{method:"get"}).then((function(e){return S(e)}))}(ht)}));var ht;const vt=Object(p.a)(function(e){return function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(y.c)("".concat(t,"/trello-cross-product-recommended/recommended-sites"),{method:"post",body:JSON.stringify({products:e}),headers:{"Content-Type":"application/json"}})}(P,e)}}("".concat(ce.siteDomain,"/proxy/experiment-api"))),jt=({member:e,redesign:t})=>{var c,d;const p=null==e||null===(c=e.prefs)||void 0===c?void 0:c.locale,f=(null==e?void 0:e.aaId)||void 0,m=null==e?void 0:e.isAaMastered,b=!(null!=e&&e.isAaMastered)&&(null==e?void 0:e.confirmed),h=null==e?void 0:e.email;let v=void 0,j=void 0;m?(j=ft,v=bt):b&&(j=mt,v=vt);const O=null!==(d=null==e?void 0:e.id)&&void 0!==d?d:"",y=Object(ut.d)(e),g=y&&Object(ut.c)(ut.a.VARIATION),w=((e,t)=>{const n=Object(Ae.b)(t),{data:o,loading:a,error:s}=ze(n,e,t),i=t||a||!!s;return Object(r.useMemo)((()=>{if(!i)return Object(Re.a)("joinableSites",(()=>st(n,e,at,o)))}),[i,n,o,e])})(O,!y),E=Object(r.useRef)(null);g&&(v=w),((e,t)=>{const n=Object(Ae.b)(),o=Object(r.useRef)(n);o.current=n,Object(r.useEffect)((()=>{e&&t&&it.TrelloStorage.addErrorListener((({key:t,error:n})=>{t===Object(ct.a)(e)&&l.Analytics.sendOperationalEvent({action:"errored",actionSubject:"switcherNudgeCache",containers:Object(l.formatContainers)({idBoard:o.current}),source:"boardScreen",attributes:{error:null==n?void 0:n.name,message:null==n?void 0:n.message,stack:null==n?void 0:n.stack,isBrowserSupported:Object($e.isBrowserSupported)(),browser:$e.asString}})}))}),[e,t])})(O,y);const[S,_]=Object(r.useState)(!0),k=Object(r.useCallback)((()=>{var e;l.Analytics.sendClickedButtonEvent({buttonName:"atlassianSwitcherHeaderButton",source:"appHeader",attributes:{aaId:f,isAaMastered:m}}),null===(e=E.current)||void 0===e||e.startProviderUnwrap()}),[f,m]),C=Object(r.useCallback)((()=>{var e;null===(e=E.current)||void 0===e||e.stopProviderUnwrap()}),[]);Object(r.useEffect)((()=>{void 0!==m&&_(!(!m&&!b))}),[m,b]);const{popoverProps:P,triggerRef:I,toggle:R,hide:T}=Object(le.e)({onShow:k,onHide:C}),A=Object(Pe.b)(),x=Object(r.useCallback)((e=>{T(),A.isEnabled?A.api.open({journey:"decide",targetProduct:e,sourceComponent:"atlassian-switcher",sourceContext:"try",experimentalOptions:{crossFlowSupportInTrelloRollout:!0,enhancedJSWValuePropositionEnabled:!0}}):Object(ue.f)(e,{campaign:ue.c.ATLASSIAN_SWITCHER})}),[T,A]),N=Object(r.useCallback)((()=>{T(),A.isEnabled?A.api.open({journey:"discover",sourceComponent:"atlassian-switcher",sourceContext:"more",experimentalOptions:{crossFlowSupportInTrelloRollout:!0,enhancedJSWValuePropositionEnabled:!0}}):Object(ue.g)({campaign:ue.c.ATLASSIAN_SWITCHER})}),[T,A]),D=Object(Ie.useLazyComponent)((()=>n.e(194).then(n.bind(null,"./app/src/components/SwitcherSpotlight/SwitcherSpotlight.tsx"))),{namedImport:"SwitcherSpotlight",preload:y}),F=()=>o.a.createElement(i.a,{icon:o.a.createElement(a.a,{color:"light"}),onClick:R,ref:I,testId:s.HeaderTestIds.AtlassianAppSwitcher,ariaLabel:pt("switch to"),className:u()(t&&lt.a.headerButtonRedesign,t&&lt.a.appSwitcherRedesign)});return S?o.a.createElement(o.a.Fragment,null,o.a.createElement(ie,{joinableSitesDataProvider:v,availableProductsDataProvider:j},y?o.a.createElement(r.Suspense,{fallback:null},o.a.createElement(D,{memberId:O,provider:w,isVariation:g,innerRef:E},F())):F()),o.a.createElement(le.b,dt({},P,{title:pt("more from atlassian"),testId:s.HeaderTestIds.AtlassianAppSwitcher}),o.a.createElement(je,{aaId:f,triggerXFlow:x,onDiscoverMoreClicked:N,joinableSitesDataProvider:v,availableProductsDataProvider:j,nonAaMastered:!m,defaultSignupEmail:h,onClose:T,locale:p}))):o.a.createElement(o.a.Fragment,null,F(),o.a.createElement(le.b,dt({},P,{title:pt("more from atlassian"),testId:s.HeaderTestIds.AtlassianAppSwitcher}),o.a.createElement(Ce,null)))}},"./app/gamma/src/util/cross-flow-essentials.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f}));var r=n("./packages/config/index.ts"),o=n("./packages/atlassian-analytics/index.ts"),a=n("./node_modules/@atlassiansox/cross-flow-support/dist/esm/index.js");let s;!function(e){e.ATLASSIAN_SWITCHER="atlassian_switcher",e.PRODUCT_STORE="product_store",e.CROSSFLOW_ESSENTIALS="cross_flow_essentials_v2",e.TOUCHPOINTS_JSW_BOARD="trello_jsw_touchpoints_board",e.TOUCHPOINTS_JSW_POWERUPS="trello_jsw_touchpoints_powerups",e.TOUCHPOINTS_JSW_SWITCHER="trello_jsw_touchpoints_switcher",e.TOUCHPOINTS_CONFLUENCE_SWITCHER="trello_confluence_touchpoints_switcher",e.TOUCHPOINTS_CONFLUENCE_POWERUPS="trello_confluence_touchpoints_powerups"}(s||(s={}));const i=({campaign:e})=>"utm_source=trello&utm_medium=in_product_ad&utm_campaign=".concat(e),c=e=>{const t=i(e);window.open("".concat(r.wacUrl,"/software?").concat(t),"_blank")},u=(e,t)=>{const n=i(t);if(e===a.a.OPSGENIE)return void window.open("".concat(r.wacUrl,"/software/opsgenie/try?").concat(n),"_blank");const o={[a.a.JIRA_SOFTWARE]:"jira-software",[a.a.JIRA_SERVICE_DESK]:"jira-service-desk",[a.a.CONFLUENCE]:"confluence"}[e];o?window.open("".concat(r.wacUrl,"/try/cloud/signup?bundle=").concat(o,"&edition=free&").concat(n),"_blank"):c(t)},l=(e,t,n)=>{const r=[];function o(e){r.length<5&&r.push(e)}for(const n of e){if(5===r.length)break;r.push(n.displayName);const e=t.filter((e=>e.idEnterprise===n.id));e.forEach((e=>{o("".concat(n.displayName,"-").concat(e.displayName))})),e.forEach((e=>{o(e.displayName)}))}return t.forEach((e=>{e.idEnterprise||o(e.displayName)})),n&&n.name&&o(n.name),r},d="".concat(r.atlassianApiGateway,"gateway/api/available-products/api/available-products"),p="".concat(r.siteDomain,"/proxy/experiment-api/trello-cross-product-join/available-sites"),f=async e=>{try{const t=e?d:p,n=await fetch(t,{method:"GET",credentials:"include",headers:{"X-Trello-Client-Version":r.clientVersion}});if(n.ok)return n.json();throw new Error("unauthorized")}catch(e){return o.Analytics.sendOperationalEvent({action:"errored",actionSubject:"fetchAvailableSites",source:"crossFlowEssentials"}),{sites:[]}}}},"./app/src/components/SwitcherSpotlight/caching/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return r.e})),n.d(t,"i",(function(){return r.g})),n.d(t,"k",(function(){return r.i})),n.d(t,"j",(function(){return r.h})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return g}));var r=n("./app/src/components/SwitcherSpotlight/caching/retrieveCachedResponse.ts"),o=n("./packages/atlassian-analytics/index.ts"),a=n("./app/scripts/debug/constants.ts"),s=n("./packages/error-reporting/index.ts");const i=["products"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const p=async(e,t,n,c)=>{try{var l;const a=Object(r.b)(t);a.boards[e]=(p=n,{joinableProducts:[],collaboratorStamp:Object(r.c)(p)});const s=n.reduce(((e,t)=>(e[t.accountId]=t,e)),{});c.sites.forEach((t=>{var n,r;let{products:o}=t,c=d(t,i);const[[l,p]]=Object.entries(o),{productUrl:f}=p,{relevance:m=0}=c;a.boards[e].joinableProducts=[...a.boards[e].joinableProducts,{productUrl:f,relevance:m}],a.collaborators=u(u({},a.collaborators),p.collaborators.reduce(((e,{accountId:t})=>(e[t]=s[t],e)),{}));const b=(null===(n=a.sites[p.productUrl])||void 0===n||null===(r=n.products[l])||void 0===r?void 0:r.collaborators)||{},h=p.collaborators.reduce(((e,{accountId:t})=>(e[t]=t,e)),b);a.sites=u(u({},a.sites),{},{[p.productUrl]:u(u({},c),{},{products:{[l]:u(u({},p),{},{collaborators:h})}})})})),a.boards[e].lastCached=Date.now(),Object(r.f)(t,a);const f=Object(r.b)(t),m=f.boards[e].lastCached;return o.Analytics.sendOperationalEvent({action:"succeeded",actionSubject:"cacheRecommendedProducts",source:"boardScreen",containers:Object(o.formatContainers)({idBoard:e}),attributes:{lastCached:null!==(l=a.boards[e].lastCached)&&void 0!==l?l:0,updatedLastCached:null!=m?m:0,lastCachedType:typeof a.boards[e].lastCached,updatedLastCachedType:typeof m,lastCachedMatches:a.boards[e].lastCached===m,cachedBoardProducts:a.boards[e].joinableProducts.length,updatedCachedBoardProducts:f.boards[e].joinableProducts.length}}),c}catch(t){return Object(s.sendErrorEvent)(t,{tags:{ownershipArea:"trello-workflowers",feature:a.Feature.PushTouchpointsSwitcherSpotlight},extraData:{subjectMethod:"cacheResponse",boardId:e}}),null}var p};var f=n("./packages/storage/index.ts");const m="mando-pt-cache-last-api-error",b=()=>f.TrelloStorage.set(m,Date.now()),h=()=>{return Date.now()-(null!==(e=f.TrelloStorage.get(m))&&void 0!==e?e:0)>864e5;var e},v=(e,t,n)=>{try{const o=Object(r.b)(n),a=null!=e?e:[];a.forEach((e=>{o.collaborators[e.accountId]=e})),o.lastVisitedBoard={id:t,collaboratorStamp:Object(r.c)(a)},Object(r.f)(n,o)}catch(n){var o;Object(s.sendErrorEvent)(n,{tags:{ownershipArea:"trello-workflowers",feature:a.Feature.PushTouchpointsSwitcherSpotlight},extraData:{subjectMethod:"cacheMembersAndLastBoard",membersCount:"".concat(null!==(o=null==e?void 0:e.length)&&void 0!==o?o:0),boardId:t}})}},j=(e,t)=>{try{const n=Object(r.b)(t);Object.keys(n.boards).forEach((t=>{const r=n.boards[t];r.joinableProducts.some((({productUrl:t})=>t===e))&&(r.invalidated=!0)})),Object(r.f)(t,n)}catch(e){}};var O=n("./app/src/components/SwitcherSpotlight/useCurrentBoardId.ts");const y=(e,t,n)=>{const{lastVisitedBoard:{id:o,collaboratorStamp:a},collaborators:s}=Object(r.b)(t),i={resolvedBoardId:e,resolvedCollaborators:n};return e===O.a&&o&&a&&(i.resolvedBoardId=o,i.resolvedCollaborators=Object(r.d)(a,s)),i},g=(e,t)=>{try{const{lastVisitedBoard:n}=Object(r.b)(t);if(!n||"object"!=typeof n)return!1;const{id:o,collaboratorStamp:a}=n,s=JSON.parse(a||"[]").length;return!(e!==o||s<2)}catch(t){return Object(s.sendErrorEvent)(t,{tags:{ownershipArea:"trello-workflowers",feature:a.Feature.PushTouchpointsSwitcherSpotlight},extraData:{subjectMethod:"boardHasEnoughMembers",boardId:e}}),!1}}},"./app/src/components/SwitcherSpotlight/caching/retrieveCachedResponse.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return y})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return k}));var r=n("./packages/atlassian-analytics/index.ts"),o=n("./app/src/components/SwitcherSpotlight/types.ts"),a=n("./packages/storage/index.ts"),s=n("./app/src/components/SwitcherSpotlight/useCurrentBoardId.ts"),i=n("./app/scripts/debug/constants.ts"),c=n("./packages/error-reporting/index.ts"),u=n("./app/src/components/SwitcherSpotlight/targeting/index.ts"),l=n("./packages/browser/index.ts");const d=["products"];function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=e=>e&&"object"==typeof e,v=e=>"".concat("mando-pt-cache","-").concat(e),j=e=>{try{const t=a.TrelloStorage.get(v(e));if(!t)throw new Error("No PT cache present");const{boards:n,collaborators:r,sites:o,version:s}=t;if(1!==s)throw new Error("PT Cache Version Mismatch");if(![n,r,o].every(h))throw new Error("PT Cache Values Mismatch");return t}catch(e){return"No PT cache present"!==(null==e?void 0:e.message)&&r.Analytics.sendOperationalEvent({action:"errored",actionSubject:"mandoPtCache",source:"boardScreen",attributes:{message:null==e?void 0:e.message,name:null==e?void 0:e.name}}),{boards:{},collaborators:{},sites:{},featureExposed:!1,lastVisitedBoard:{collaboratorStamp:null,id:null},version:1}}},O=(e,t)=>{a.TrelloStorage.set(v(e),t)},y=e=>JSON.stringify(e.map((({accountId:e})=>e))),g=({relevance:e=0,products:t,url:n},{relevance:r=0,products:a,url:s})=>{const i=r-e;if(0!==i)return i;const[c]=Object.keys(t);if(c===o.a.CONFLUENCE)return-1;const[u]=Object.keys(a);return u===o.a.CONFLUENCE?1:n<s?-1:n>s?1:0},w=(e,t,n="atlassianSwitcher",r=["DES","RA"])=>{const o={products:{productKeys:[],accessType:r},collaborators:{userIds:[]},context:{product:"trello",experience:n}};return o.collaborators.userIds=[...t],o.products.productKeys=null==e?void 0:e.map((e=>null==e?void 0:e.split(".")[0])),o},E=e=>{const t={sites:[]},n=(null==e?void 0:e.joinableProducts)||[];return Array.isArray(n)?(t.sites=n.map((({cloudId:e="",ari:t="",displayName:n="",siteUrl:r,avatarUrl:o="",relevance:a=0,collaborators:s=[],productUrl:i="",productKey:c=""})=>{const u={[c]:{collaborators:[],productUrl:i}};return u[c].collaborators=s.map((({userId:e="",displayName:t="",avatarUrl:n=""})=>({id:"",accountId:e,displayName:t,avatarUrl:n}))),{cloudId:e,resourceId:t,displayName:n,url:r,avatarUrl:o,relevance:a,products:u,userAccessLevel:"",roleAri:"",isInternalProductRecommendation:!1}})),t):t},S=({sites:e})=>({sites:e.sort(g)}),_=(e,t)=>JSON.parse(e).map((e=>t[e])).filter((e=>!!e)),k=(e,t)=>{try{const n=j(t),{boards:o,collaborators:a,sites:i,lastVisitedBoard:c}=n,{resolvedBoard:f,resolvedBoardId:b}=((e,t,n)=>{var r;let o=e,a=null;return e===s.a&&null!=n&&n.id&&null!=n&&n.collaboratorStamp&&(o=null==n?void 0:n.id),a=null!==(r=t[o])&&void 0!==r?r:null,a||(o=null),{resolvedBoard:a,resolvedBoardId:o}})(e,o,c);if(!f||((e,t,n)=>{var o;const a=null!==(o=e.invalidated)&&void 0!==o&&o;let s=!1;if(n){var i,c;const n=Date.now()-(null!==(i=e.lastCached)&&void 0!==i?i:0);s=n>=2592e6,r.Analytics.sendOperationalEvent({action:s?"failed":"succeeded",actionSubject:"switcherNudgeCacheAgeCheck",source:"boardScreen",containers:Object(r.formatContainers)({idBoard:t}),attributes:{cacheAge:n,lastCached:null!==(c=e.lastCached)&&void 0!==c?c:0,lastCachedType:typeof e.lastCached,collaborators:e.collaboratorStamp,browser:l.asString,isBrowserSupported:Object(l.isBrowserSupported)(),cachedBoardProducts:e.joinableProducts.length}})}return a||s})(f,b,Object(u.b)()))return null;const h=_(f.collaboratorStamp,a),v={sites:f.joinableProducts.map((({productUrl:e,relevance:t})=>{const n=m(m({},i[e]),{},{relevance:t}),{products:r}=n,o=p(n,d),[[a,s]]=Object.entries(r);return m(m({},o),{},{products:{[a]:m(m({},s),{},{collaborators:h.filter((({accountId:e})=>!!s.collaborators[e]))})}})})).sort(g)};return r.Analytics.sendOperationalEvent({action:"succeeded",actionSubject:"retrieveRecommendedProducts",source:"boardScreen",containers:Object(r.formatContainers)({idBoard:e})}),v}catch(t){return Object(c.sendErrorEvent)(t,{tags:{ownershipArea:"trello-workflowers",feature:i.Feature.PushTouchpointsSwitcherSpotlight},extraData:{subjectMethod:"retrieveCachedResponse",boardId:e}}),null}}},"./app/src/components/SwitcherSpotlight/targeting/index.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return m}));var r=n("./packages/browser/index.ts"),o=n("./packages/feature-flag-client/index.ts"),a=(n("./packages/feature-flag-client/src/feature-flag-client.ts"),n("./packages/storage/index.ts"));const s="growth.trello-jsw-crossflow-push-touchpoints-experiment";let i;!function(e){e.CONTROL="control",e.NOT_ENROLLED="not-enrolled",e.VARIATION="variation"}(i||(i={}));const c=()=>o.featureFlagClient.get("growth.trello-switcher-nudge-cache-invalidation-control",!1),u=()=>o.featureFlagClient.get(s,i.NOT_ENROLLED),l=(...e)=>e.some((e=>u()===e)),d=e=>Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.isAaMastered)&&!Object(r.isTouch)()&&!Object(r.isDesktop)()&&!Object(r.isCypress)()&&(()=>{try{return a.TrelloStorage.isEnabled()}catch(e){return!1}})()&&l(i.VARIATION,i.CONTROL));var p=n("./node_modules/react/index.js"),f=n("./app/src/components/SwitcherSpotlight/useCurrentBoardId.ts");const m=e=>{const[t,n]=Object(p.useState)(!1);return Object(p.useEffect)((()=>{const t=setTimeout((()=>{if(e===f.a)return void n(!0);const t="views-switcher-callout-".concat(e),r=a.TrelloStorage.get(t),o=Number.isFinite(r)?((new Date).getTime()-r)/864e5:0;n(o>=1)}),3e3);return()=>{n(!1),clearTimeout(t)}}),[e]),t}},"./app/src/components/SwitcherSpotlight/types.ts":function(e,t,n){"use strict";let r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.CONFLUENCE="confluence.ondemand",e.JIRA_SOFTWARE="jira-software.ondemand"}(r||(r={})),function(e){e.JIRA="Jira",e.CONFLUENCE="Confluence"}(o||(o={}))},"./app/src/components/SwitcherSpotlight/useCurrentBoardId.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/react/index.js"),o=n("./packages/router/index.ts"),a=n("./packages/routes/index.ts");const s="not-a-board",i=[a.RouteId.BOARD,a.RouteId.BOARD_DASHBOARD,a.RouteId.BOARD_REFERRAL],c=e=>{const[t,n]=Object(r.useState)(s),c=Object(a.useRouteId)(),{pathname:u}=Object(o.useLocation)();return Object(r.useEffect)((()=>{if(e||!c||!u||!(e=>i.some((t=>t===e)))(c))return void n(s);const t=a.routes[c].regExp.exec(u.slice(1)),r=null==t?void 0:t[1];n(null!=r?r:s)}),[c,u,e]),t}},"./node_modules/@atlaskit/analytics-namespaced-context/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(o),s=n("./node_modules/react/index.js"),i=n.n(s),c=n("./node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/index.js"),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NamespacedContext",n=function(t){var n=a()({},e,t.data);return i.a.createElement(c.a,{data:n},i.a.Children.only(t.children))};return n.displayName=t,n},l=(u("fabricElementsCtx","FabricElementsAnalyticsContext"),u("navigationCtx","NavigationAnalyticsContext"));!function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth",e.COMMENT="comment",e.CHROMELESS="chromeless",e.MOBILE="mobile"}(r||(r={}));u("fabricEditorCtx","FabricEditorAnalyticsContext"),u("peopleTeamsCtx","PeopleTeamsAnalyticsContext")},"./node_modules/@atlaskit/analytics-next/dist/esm/utils/createAndFireEvent.js":function(e,t,n){"use strict";t.a=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/as-data-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return P})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return R})),n.d(t,"d",(function(){return T}));var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(a),i=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),c=n.n(i),u=n("./node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),f=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=n.n(f),b=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(b),v=n("./node_modules/react/index.js"),j=n.n(v),O=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),y=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/analytics/index.js"),g=n("./node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),w=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/error-to-reason.js");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var k,C="atlassianSwitcherDataProvider";!function(e){e.LOADING="loading",e.COMPLETE="complete",e.ERROR="error"}(k||(k={}));var P=function(e){return{status:k.COMPLETE,data:e}},I=function(e){return e.status===k.COMPLETE},R=function(e){return e.status===k.ERROR},T=function(e){return e.status!==k.LOADING};t.c=function(e,t,n){var r=function(e){if(n){var t=n(e);if(void 0!==t)return{status:k.COMPLETE,data:t}}return{status:k.LOADING,data:null}},a=function(n){l()(i,n);var a=_(i);function i(){var e;o()(this,i);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=a.call.apply(a,[this].concat(n)),h()(c()(e),"acceptResults",!0),h()(c()(e),"state",r(e.props)),h()(c()(e),"fireOperationalEvent",(function(t){e.props.createAnalyticsEvent&&e.props.createAnalyticsEvent(S(S({eventType:O.b,actionSubject:C},t),{},{attributes:S(S({},t.attributes),{},{outdated:!e.acceptResults})})).fire(y.a)})),e}return s()(i,[{key:"componentWillUnmount",value:function(){this.acceptResults=!1}},{key:"componentDidMount",value:function(){var e=this;t(this.props).then((function(t){e.onResult(t)})).catch((function(t){e.onError(t)}))}},{key:"onResult",value:function(t){this.acceptResults&&this.setState({data:t,status:k.COMPLETE}),this.fireOperationalEvent({action:"receivedResult",actionSubjectId:e,attributes:{provider:e}})}},{key:"onError",value:function(t){this.acceptResults&&!I(this.state)&&this.setState({error:t,status:k.ERROR,data:null}),this.fireOperationalEvent({action:"failed",actionSubjectId:e,attributes:{provider:e,reason:Object(w.a)(t)}})}},{key:"render",value:function(){return this.props.children(this.state)}}]),i}(j.a.Component);return h()(a,"displayName","DataProvider(".concat(e,")")),Object(g.a)()(a)}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/create-data-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/as-data-provider.js"),o=(n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/fetch.js"),n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/with-cached.js")),a=function(e,t){var n=Object(o.a)((function(e){return t()}));return{fetchMethod:n,ProviderComponent:Object(r.c)(e,n,n.cached)}}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/default-available-products-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(a),i=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/create-data-provider.js"),c=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/fetch.js"),u="/gateway/api/available-products/api/available-products",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return Object(i.a)("availableProducts",s()(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c.c)(e);case 3:return n=t.sent,t.abrupt("return",n);case 7:if(t.prev=7,t.t0=t.catch(0),!(e.indexOf("experiment-api")>-1)||401!==t.t0.status){t.next=13;break}return r=Promise.resolve({sites:[],isPartial:!1}),t.abrupt("return",r);case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,7]])}))))}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/instance-data-providers.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return v}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/fetch.js"),s=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/as-data-provider.js"),i=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/types.js"),c=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/with-cached.js");var u=function(e,t){return function(n){var r=n.cloudId,a=n.children;if(r)return o.a.createElement(e,n,a);var i={status:s.a.COMPLETE,data:t};return o.a.createElement(o.a.Fragment,null,a(i))}},l=Object(s.c)("collaborationGraphRecentContainers",(function(e){var t=e.cloudId;return Object(a.d)("/gateway/api/collaboration/v1/collaborationgraph/user/container",{containerTypes:["confluenceSpace","jiraProject"],context:{contextType:"atlassianSwitcher",principalId:"context",siteId:t},expanded:!0,maxNumberOfResults:6,userId:"context"})})),d={status:s.a.COMPLETE,data:{collaborationGraphEntities:[]}},p=(s.a.COMPLETE,u((function(e){var t=e.cloudId,n=e.enableRecentContainers,r=e.children;return n?o.a.createElement(l,{cloudId:t},r):o.a.createElement(o.a.Fragment,null,r(d))}),d.data)),f=Object(c.a)((function(e){var t=e.cloudId,n=e.permissionId;return Object(a.d)("/gateway/api/permissions/permitted",{permissionId:n,resourceId:"ari:cloud:platform::site/".concat(t)}).then((function(e){return e.permitted}))})),m=u(Object(s.c)("permission",f,f.cached),!1),b=Object(c.a)((function(e){var t=e.cloudId;return Object(a.c)("/gateway/api/site/".concat(t,"/setting/xflow")).then((function(e){return void 0===e["product-suggestions-enabled"]||e["product-suggestions-enabled"]}))})),h=u(Object(s.c)("xflowSettings",b,b.cached),!0),v=function(e){var t=e.cloudId;b({cloudId:t}),f({cloudId:t,permissionId:i.e.ADD_PRODUCTS}),f({cloudId:t,permissionId:i.e.MANAGE})}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/products-data-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/default-available-products-provider.js"),s=Object(a.a)(),i=s.fetchMethod,c=s.ProviderComponent,u=function(e){var t=e.children,n=e.availableProductsDataProvider,r=n&&n.ProviderComponent||c;return o.a.createElement(r,null,t)},l=function(e){e?e.fetchMethod({}):i({})}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/analytics/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"i",(function(){return P})),n.d(t,"g",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return A})),n.d(t,"h",(function(){return x})),n.d(t,"m",(function(){return N})),n.d(t,"n",(function(){return D})),n.d(t,"l",(function(){return F})),n.d(t,"k",(function(){return M})),n.d(t,"j",(function(){return L})),n.d(t,"q",(function(){return U})),n.d(t,"p",(function(){return B})),n.d(t,"x",(function(){return J})),n.d(t,"c",(function(){return G})),n.d(t,"b",(function(){return W})),n.d(t,"o",(function(){return H})),n.d(t,"u",(function(){return q})),n.d(t,"w",(function(){return z})),n.d(t,"s",(function(){return X})),n.d(t,"v",(function(){return $})),n.d(t,"r",(function(){return Q})),n.d(t,"t",(function(){return Y}));var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),s=n.n(a),i=n("./node_modules/@babel/runtime/helpers/inherits.js"),c=n.n(i),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),f=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(f),b=n("./node_modules/react/index.js"),h=n.n(b),v=n("./node_modules/@atlaskit/analytics-namespaced-context/dist/esm/index.js"),j=n("./node_modules/@atlaskit/analytics-next/dist/esm/utils/createAndFireEvent.js"),O=n("./node_modules/@atlaskit/analytics-next/dist/esm/hocs/withAnalyticsEvents.js"),y=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),g=["4000","2000","1000","500"],w=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/as-data-provider.js"),E=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/errors/user-site-data-error.js");function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C="navigation",P="atlassianSwitcher",I="atlassianSwitcherItem",R="atlassianSwitcherChildItem",T="atlassianSwitcherItemExpand",A="atlassianSwitcher",x="atlassianSwitcher",N="atlassianSwitcherPrefetch",D="atlassianSwitcherPrefetch",F="atlassianSwitcherTrelloSignUpToJoin",M="atlassianSwitcherTrelloHasNewFriends",L="atlassianSwitcherTrelloHasNewFriendsDismiss",U=Object(j.a)(C),B=function(e){return{attributes:e}},J=function(e){return function(t){return function(n){return h.a.createElement(v.a,{data:e(n)},h.a.createElement(t,n))}}},V=function(e){return null!=e&&e>=0},G=Object(O.a)({onRender:function(e,t){var n,r,o=null===(n=t.data)||void 0===n?void 0:n.duration;return e({eventType:y.b,action:"rendered",actionSubject:t.subject,attributes:k(k({},t.data),V(o)&&{bucket:(r=o,r>=0?g.reduce((function(e,t){return r<=parseInt(t)?t:e}),"+Inf"):null)})}).fire(C)}})(function(e){c()(n,e);var t=S(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"componentDidMount",value:function(){this.props.onRender()}},{key:"render",value:function(){return null}}]),n}(h.a.Component)),W=Object(O.a)({onRender:function(e,t){return e({eventType:y.b,action:"not_rendered",actionSubject:t.subject,attributes:t.data}).fire(C)}})(function(e){c()(n,e);var t=S(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"componentDidMount",value:function(){this.props.onRender()}},{key:"render",value:function(){return null}}]),n}(h.a.Component)),H=Object(O.a)({onRender:function(e,t){return e({eventType:y.e,action:"viewed",actionSubject:t.subject,attributes:t.data}).fire(C)}})(function(e){c()(n,e);var t=S(n);function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"componentDidMount",value:function(){this.props.onRender()}},{key:"render",value:function(){return null}}]),n}(h.a.Component)),K=function(e){var t=e.subject,n=e.providerFailed,r=e.emptyRenderExpected,o=e.linksRendered,a=e.data;return n||0===o.length&&!r?h.a.createElement(W,{subject:t,data:k(k({},a),{},{providerFailed:n})}):h.a.createElement(G,{subject:t,data:k(k({},a),{},{emptyRender:r})})},q=function(e,t,n){var r=Boolean(e.data&&0===e.data.sites.length);return K({subject:"atlassianSwitcherJoinableSites",providerFailed:null===e.data,emptyRenderExpected:r,linksRendered:t,data:n})},z=function(e,t,n,r,o){if(!r)return null;var a=null===e.data||null===t.data,s=0===n.length;return K({subject:"atlassianSwitcherRecommendedProducts",providerFailed:a,emptyRenderExpected:s,linksRendered:n,data:o})},X=function(e,t,n,r,o){if(!r)return null;var a=null===e.data||null===t.data;return K({subject:"atlassianSwitcherDiscoverMore",providerFailed:a,emptyRenderExpected:!1,linksRendered:n,data:k(k({},o),{},{linkItems:n.map((function(e){return e.key}))})})},$=function(e,t,n,r,o){if(!e)return null;var a=null===t.data||null===n.data,s=Boolean(t.data&&t.data.collaborationGraphEntities&&0===t.data.collaborationGraphEntities.length);return K({subject:"atlassianSwitcherRecentContainers",providerFailed:a,emptyRenderExpected:s,linksRendered:r,data:o})},Q=function(e,t,n,r){if(e){var o=0===n.length;return function(e){var t=e.subject,n=e.notRenderedReason,r=e.emptyRenderExpected,o=e.data;return n?h.a.createElement(W,{subject:t,data:k(k({},o),{},{notRenderedReason:n})}):h.a.createElement(G,{subject:t,data:k(k({},o),{},{emptyRender:r})})}({subject:"atlassianSwitcherCustomLinks",notRenderedReason:function(){if((null==e?void 0:e.status)===w.a.ERROR)return"custom_links_api_error";var n=t.error;return n?n instanceof E.a?n.reason:"usd_unknown":null}(),emptyRenderExpected:o,data:r})}},Y=function(e,t,n,r,o){return k({},B(k({groupIndex:e,itemId:t,itemType:n,productType:r},o)))}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/error-to-reason.js":function(e,t,n){"use strict";function r(e){var t=e||{},n=t.name,r=void 0===n?"Unknown":n,o=t.status;return{name:r,status:void 0===o?void 0:o}}n.d(t,"a",(function(){return r}))},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/errors/user-site-data-error.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return b}));var r,o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(o),s=n("./node_modules/@babel/runtime/helpers/inherits.js"),i=n.n(s),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),l=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(l),p=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),f=n.n(p);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}!function(e){e.APS_NO_SITE_MATCH="aps_no_site_match",e.APS_EMPTY_RESULT="aps_empty_result",e.APS_PARTIAL_EMPTY_RESULT="aps_partial_response_empty_result"}(r||(r={}));var b=function(e){i()(n,e);var t=m(n);function n(e,r){var o;return a()(this,n),(o=t.call(this,r)).name="UserSiteDataError",o.reason=e,o}return n}(f()(Error))},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/fetch.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s="FetchError";function i(e,t){return{name:s,message:e.message,stack:e.stack,status:t}}var c=function(e,t){return fetch(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({credentials:"include"},t)).then((function(t){if(t.ok)return t.json();throw i(new Error("Unable to fetch ".concat(e," ").concat(t.status," ").concat(t.statusText)),t.status)}))},u=function(e,t){return c(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/package-context.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/version.json");t.a={packageName:r.name,packageVersion:r.version}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/performance-now.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="undefined"!=typeof window&&window.performance&&window.performance.now.bind(performance)||Date.now},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/utils/with-cached.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e){return"function"==typeof e.then&&"function"==typeof e.catch},o=function(e){var t=new Map,n=new Map;function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify(t)}return Object.assign((function(){var a=o.apply(void 0,arguments),s=n.get(a);if(void 0!==s)return s;var i=e.apply(void 0,arguments);return n.set(a,i),r(i)&&i.then((function(e){t.set(a,e),setTimeout((function(){return n.delete(a)}),5e3)})).catch((function(){n.delete(a)})),i}),e,{cached:function(){var e=o.apply(void 0,arguments);return t.get(e)},reset:function(){t.clear(),n.clear()}})}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/cross-join/providers/default-joinable-sites-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/common/providers/create-data-provider.js"),o=function(){return Promise.resolve({sites:[]})},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=s(e,o);return Object(r.a)("joinableSites",t)},s=function(e,t){return function(){try{return e()}catch(e){return t()}}}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/cross-join/providers/joinable-sites-data-provider.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/@atlaskit/atlassian-switcher/dist/esm/cross-join/providers/default-joinable-sites-provider.js"),s=Object(a.a)(),i=s.fetchMethod,c=s.ProviderComponent,u=function(e){var t=e.children,n=e.joinableSitesDataProvider,r=n&&n.ProviderComponent||c;return o.a.createElement(r,null,t)},l=function(e){e?e.fetchMethod({}):i({})}},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/types.js":function(e,t,n){"use strict";var r,o,a,s,i,c,u,l,d;n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return d})),function(e){e.JIRA_PROJECT="jira-project",e.CONFLUENCE_SPACE="confluence-space"}(r||(r={})),function(e){e.JIRA_PROJECT="jiraProject",e.CONFLUENCE_SPACE="confluenceSpace"}(o||(o={})),function(e){e.MANAGE="manage",e.CAN_INVITE_USERS="invite-users",e.ADD_PRODUCTS="add-products"}(a||(a={})),function(e){e.BITBUCKET="bitbucket",e.CONFLUENCE="confluence",e.HOME="home",e.JIRA="jira",e.SITE_ADMIN="site-admin",e.TRUSTED_ADMIN="trusted-admin",e.TRELLO="trello",e.START="start"}(s||(s={})),function(e){e.disableCustomLinks="disableCustomLinks",e.enableRecentContainers="enableRecentContainers",e.disableSwitchToHeading="disableSwitchToHeading",e.xflow="xflow",e.isEmceeLinkEnabled="isEmceeLinkEnabled",e.isProductStoreInTrelloJSWFirstEnabled="isProductStoreInTrelloJSWFirstEnabled",e.isProductStoreInTrelloConfluenceFirstEnabled="isProductStoreInTrelloConfluenceFirstEnabled",e.isSlackDiscoveryEnabled="isSlackDiscoveryEnabled"}(i||(i={})),function(e){e.JIRA_BUSINESS="JIRA_BUSINESS",e.JIRA_WORK_MANAGEMENT="JIRA_WORK_MANAGEMENT",e.JIRA_SERVICE_DESK="JIRA_SERVICE_DESK",e.JIRA_SOFTWARE="JIRA_SOFTWARE",e.CONFLUENCE="CONFLUENCE",e.OPSGENIE="OPSGENIE",e.BITBUCKET="BITBUCKET",e.STATUSPAGE="STATUSPAGE",e.TRELLO="TRELLO",e.DRAGONFRUIT="DRAGONFRUIT",e.TEAM_CENTRAL="TEAM_CENTRAL",e.AVOCADO="AVOCADO"}(c||(c={})),function(e){e.PRODUCT="product",e.ADMIN="admin",e.TRY="try",e.JOIN="join",e.CUSTOM_LINK="customLink",e.DISCOVER_FIXED_LINKS="discover-fixed-links",e.RECENT="recent"}(u||(u={})),function(e){e.CONFLUENCE="confluence.ondemand",e.JIRA_CORE="jira-core.ondemand",e.JIRA_SOFTWARE="jira-software.ondemand",e.JIRA_SERVICE_DESK="jira-servicedesk.ondemand",e.BITBUCKET="bitbucket",e.OPSGENIE="opsgenie",e.STATUSPAGE="statuspage",e.TRELLO="trello",e.DRAGONFRUIT="dragonfruit",e.TEAM_CENTRAL="townsquare",e.AVOCADO="avocado"}(l||(l={})),function(e){e.DISCOVER_MORE="discover-more",e.GIT_TOOLS="appswitcher.git.tools",e.SLACK_INTEGRATION="slack-integration"}(d||(d={}))},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/loaders.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f}));var r=n("./node_modules/react-loadable/lib/index.js"),o=n.n(r),a=function(){return n.e(13).then(n.bind(null,"./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/atlassian-switcher.js"))},s=function(){return n.e(16).then(n.bind(null,"./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/jira-switcher.js"))},i=function(){return n.e(14).then(n.bind(null,"./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/confluence-switcher.js"))},c=function(){return n.e(15).then(n.bind(null,"./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/generic-switcher.js"))},u=o()({loader:a,loading:function(){return null}}),l=o()({loader:s,loading:function(){return null}}),d=o()({loader:i,loading:function(){return null}}),p=o()({loader:c,loading:function(){return null}}),f=o()({loader:function(){return n.e(17).then(n.bind(null,"./node_modules/@atlaskit/atlassian-switcher/dist/esm/ui/components/trello-switcher.js"))},loading:function(){return null}})},"./node_modules/@atlaskit/atlassian-switcher/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/atlassian-switcher",version:"12.3.0",sideEffects:!1}},"./node_modules/@atlassiansox/cross-flow-api-internals/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));n("./node_modules/@babel/runtime/helpers/extends.js");var r=n("./node_modules/react/index.js"),o=n.n(r),a=function(e){return{open:function(t){return e(t)}}},s={GET_STARTED:"get-started",DECIDE:"decide",DISCOVER:"discover"},i={CONFLUENCE:"confluence.ondemand",JIRA_CORE:"jira-core.ondemand",JIRA_SERVICE_DESK:"jira-servicedesk.ondemand",JIRA_SOFTWARE:"jira-software.ondemand",BITBUCKET:"bitbucket.ondemand",TRELLO:"trello",OPSGENIE:"opsgenie",STATUSPAGE:"statuspage",TEAM_CENTRAL:"townsquare",AVOCADO:"avocado"},c="Could not provide requested API version",u="Provider not found",l=Object(r.createContext)((function(){return{isEnabled:!1,reason:u}})),d=function(e){var t=e.onOpen,n=e.children,s=Object(r.useMemo)((function(){return function(e){return function(t){switch(t){case 0:return{isEnabled:!0,api:a(e)};default:return{isEnabled:!1,reason:c}}}}(t)}),[t]);return o.a.createElement(l.Provider,{value:s},n)},p=function(){var e=Object(r.useContext)(l);return Object(r.useMemo)((function(){return e(0)}),[e])}},"./node_modules/@atlassiansox/cross-flow-support/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r.d})),n.d(t,"a",(function(){return r.c}));var r=n("./node_modules/@atlassiansox/cross-flow-api-internals/dist/esm/index.js");n("./node_modules/@babel/runtime/regenerator/index.js"),n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),n("./node_modules/react/index.js")},"./node_modules/@atlassiansox/cross-flow-support/dist/esm/lib/redirects-helpers/redirectsHelpers.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(o),s=n("./node_modules/@atlassiansox/cross-flow-api-internals/dist/esm/index.js");!function(e){e["atlassian-switcher"]="atlassian_switcher"}(r||(r={}));var i={"atlassian-switcher":r["atlassian-switcher"]},c=function(e,t){var n="";return e&&function(e){return Boolean(i[e])}(e)&&(n+="utm_campaign=".concat(i[e],"&utm_medium=in_product_ad"),t&&(n+="&utm_source=".concat(t))),n},u=function(e,t,n,r){var o="staging"===t?"https://qa-wac.internal.atlassian.com":"https://www.atlassian.com",i=c(n,r),u="",l="",d="/software";return!function(e){return[s.c.JIRA_SOFTWARE,s.c.JIRA_SERVICE_DESK,s.c.JIRA_CORE,s.c.CONFLUENCE].includes(e)}(e)?function(e){return[s.c.OPSGENIE].includes(e)}(e)&&(d=function(e){return a()({},s.c.OPSGENIE,"/software/opsgenie/try")[e]}(e)):(d="/try/cloud/signup",l=function(e){var t,n=(t={},a()(t,s.c.JIRA_SOFTWARE,"jira-software"),a()(t,s.c.JIRA_SERVICE_DESK,"jira-service-desk"),a()(t,s.c.JIRA_CORE,"jira-core"),a()(t,s.c.CONFLUENCE,"confluence"),t);return"bundle=".concat(n[e],"&edition=free")}(e)),l&&(u+="?".concat(l)),i&&(u=u+(u?"&":"?")+i),o+d+u},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"production",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=u(e,t,n,r);window.open(o,"_blank")}},"./node_modules/@atlassiansox/cross-flow-support/dist/esm/trello.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return q.b}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/react/index.js"),s=n.n(a),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(i),u=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=n.n(u),d=n("./node_modules/@atlassiansox/cross-flow-api-internals/dist/esm/index.js"),p=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),f=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(f);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){return function(e,t){return t.reduce((function(t,n){return e.forEach((function(e){var r=n?n[e]:null;t.push(r||n[e])})),t}),[]).filter(Boolean)}(["source"],e)},j=function(e){return e[e.length-1]},O=function(e){var t=e.context,n=e.payload;if(!n)return null;var r=v(t),o=j(r)||p.a,a=function(e){return e.reduce((function(e,t){var n=t.attributes,r=l()(t,["attributes"]),o=h(h({},e),r);return n?h(h({},o),n):o}),{})}(t),s=j(function(e){return e.map((function(e){return{packageName:e.packageName,packageVersion:e.packageVersion}})).filter((function(e){return e.packageName}))}(t))||{},i=s.packageName,c=void 0===i?void 0:i,u=s.packageVersion,d=void 0===u?void 0:u,f=n.eventType,m=void 0===f?p.e:f,b=n.action,O=n.actionSubject,y=n.actionSubjectId,g=n.attributes,w=n.name,E=h(h({packageName:c,packageVersion:d},a),g),S=n.tags||[];switch(S.push("growth"),m){case p.e:case p.b:case p.d:return{eventType:m,source:o,actionSubject:O,action:b,actionSubjectId:y,attributes:E,tags:S.slice(0)};case p.c:return{eventType:m,name:w,attributes:E,source:o,tags:S.slice(0)}}return null},y=n("./node_modules/@atlassiansox/cross-flow-support/dist/esm/lib/redirects-helpers/redirectsHelpers.js"),g=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),w=n.n(g),E=n("./node_modules/@babel/runtime/helpers/createClass.js"),S=n.n(E),_=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),k=n.n(_),C=n("./node_modules/@babel/runtime/helpers/inherits.js"),P=n.n(C),I=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),R=n.n(I),T=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),A=n.n(T),x="crossFlowProvider",N="crossFlowSupport";function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var F={eventType:p.b,action:"errorCaught",actionSubject:"errorBoundary"},M=[{source:x},{packageName:"@atlassiansox/cross-flow-support",packageVersion:"1.4.1"}],L=function(e){P()(n,e);var t=D(n);function n(){var e;w()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),m()(k()(e),"state",{hasError:!1}),e}return S()(n,[{key:"componentDidCatch",value:function(e){this.props.onAnalyticsEvent({payload:F,context:M}),this.props.onError&&this.props.onError(e)}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(a.Component);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J={version:"1.4.1"};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W,H=function(e,t){if(!t)return e;var n=G(G({},e.attributes||{}),{},{sourceComponent:t.sourceComponent,sourceContext:t.sourceContext});return G(G({},e),{},{attributes:n})},K=(W=s.a.lazy((function(){return n.e(34).then(n.bind(null,"./node_modules/@atlassiansox/cross-flow-support/dist/esm/lib/view/index.js"))})),function(e){var t=e.children,n=e.analyticsClient,r=e.originProduct,i=e.redirectToWac,u=e.env,f=e.plugins,m=void 0===f?[]:f,b=e.onError,h=l()(e,["children","analyticsClient","originProduct","redirectToWac","env","plugins","onError"]),v=Object(a.useRef)(),j=Object(a.useState)(!1),g=c()(j,2),w=g[0],E=g[1],S=Object(a.useMemo)((function(){return function(e){return function(t){return Promise.resolve(e).then((function(e){switch(t.eventType){case p.e:e.sendUIEvent(t);break;case p.d:e.sendTrackEvent(t);break;case p.b:e.sendOperationalEvent(t);break;case p.c:e.sendScreenEvent(t)}}))}}(n)}),[n]),_=Object(a.useState)(),k=c()(_,2),C=k[0],P=k[1],I=Object(a.useCallback)((function(e){var t,n,r=O(e);if(r){var o=H((n=B(B({},(t=r).attributes||{}),{},{crossFlowSupport:J}),B(B({},t),{},{attributes:n})),C);S(o)}}),[S,C]),R=Object(a.useCallback)((function(e){w||(I({payload:{eventType:p.b,action:"uiInitialized",actionSubject:N,attributes:{appName:e}},context:[{source:x}]}),E(!0))}),[w,I]),T=Object(a.useCallback)((function(e){E(!1);var t={payload:H({eventType:p.b,action:"openInvoked",actionSubject:N},e),context:[{source:x}]};return I(t),e.journey===d.b.GET_STARTED&&i?(Object(y.a)(e.targetProduct,u,e.sourceComponent,e.sourceContext),Promise.resolve({})):(P(e),new Promise((function(e){v.current=e})))}),[I,u,i]),A=Object(a.useCallback)((function(e){E(!1),P(void 0),v.current&&v.current(e)}),[]);return s.a.createElement(d.a,{onOpen:T},t,C&&s.a.createElement(L,{onAnalyticsEvent:I,onError:b},s.a.createElement(a.Suspense,{fallback:null},s.a.createElement(W,o()({},h,C,{onAnalyticsEvent:I,originProduct:r,onClose:A,onHandShake:R,plugins:m,env:u,redirectToWac:i})))))}),q=n("./node_modules/@atlassiansox/cross-flow-support/dist/esm/index.js");t.a=function(e){var t=!e.isAaMastered;return s.a.createElement(K,o()({},e,{shouldUseCFFEOverride:function(){return!0},originProduct:"trello",redirectToWac:t}))}},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAppSwitcher/AtlassianAppSwitcherEmptyState.less":function(e,t,n){"use strict";var r=n("./node_modules/css-loader/dist/runtime/api.js"),o=n.n(r)()(!1);o.push([e.i,"._29wKMUkdMK6wsF {\n  margin: 48px auto;\n  max-width: 240px;\n  text-align: center;\n}\n._29wKMUkdMK6wsF h3 {\n  margin: 32px 0 8px;\n}\n._29wKMUkdMK6wsF p {\n  margin: 24px 0 8px;\n}\n",""]),o.locals={appSwitcherEmptyState:"_29wKMUkdMK6wsF"},t.a=o},"./node_modules/lodash/debounce.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),o=n("./node_modules/lodash/now.js"),a=n("./node_modules/lodash/toNumber.js"),s=Math.max,i=Math.min;e.exports=function(e,t,n){var c,u,l,d,p,f,m=0,b=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(t){var n=c,r=u;return c=u=void 0,m=t,d=e.apply(r,n)}function O(e){return m=e,p=setTimeout(g,t),b?j(e):d}function y(e){var n=e-f;return void 0===f||n>=t||n<0||h&&e-m>=l}function g(){var e=o();if(y(e))return w(e);p=setTimeout(g,function(e){var n=t-(e-f);return h?i(n,l-(e-m)):n}(e))}function w(e){return p=void 0,v&&c?j(e):(c=u=void 0,d)}function E(){var e=o(),n=y(e);if(c=arguments,u=this,f=e,n){if(void 0===p)return O(f);if(h)return clearTimeout(p),p=setTimeout(g,t),j(f)}return void 0===p&&(p=setTimeout(g,t)),d}return t=a(t)||0,r(n)&&(b=!!n.leading,l=(h="maxWait"in n)?s(a(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=f=u=p=void 0},E.flush=function(){return void 0===p?d:w(o())},E}},"./node_modules/lodash/isSymbol.js":function(e,t,n){var r=n("./node_modules/lodash/_baseGetTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},"./node_modules/lodash/now.js":function(e,t,n){var r=n("./node_modules/lodash/_root.js");e.exports=function(){return r.Date.now()}},"./node_modules/lodash/throttle.js":function(e,t,n){var r=n("./node_modules/lodash/debounce.js"),o=n("./node_modules/lodash/isObject.js");e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},"./node_modules/lodash/toNumber.js":function(e,t,n){var r=n("./node_modules/lodash/isObject.js"),o=n("./node_modules/lodash/isSymbol.js"),a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=i.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},"./resources/images/empty-states/app-switcher.svg":function(e,t,n){e.exports=n.p+"images/empty-states/app-switcher.f42f3fec3507adf2897c.svg"}},0,[34]]);
//# sourceMappingURL=atlassian-app-switcher-button.0b9249379ed75c44e4ef.js.map